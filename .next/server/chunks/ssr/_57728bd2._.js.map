{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/hasanalmahadi/WebProject/medimeet/actions/onboarding.js"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/prisma\";\nimport { auth } from \"@clerk/nextjs/server\";\nimport { revalidatePath } from \"next/cache\";\n\n/**\n * Sets the user's role and related information\n */\nexport async function setUserRole(formData) {\n  const { userId } = await auth();\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  // Find user in our database\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found in database\");\n\n  const role = formData.get(\"role\");\n\n  if (!role || ![\"PATIENT\", \"DOCTOR\"].includes(role)) {\n    throw new Error(\"Invalid role selection\");\n  }\n\n  try {\n    // For patient role - simple update\n    if (role === \"PATIENT\") {\n      await db.user.update({\n        where: {\n          clerkUserId: userId,\n        },\n        data: {\n          role: \"PATIENT\",\n        },\n      });\n\n      revalidatePath(\"/\");\n      return { success: true, redirect: \"/doctors\" };\n    }\n\n    // For doctor role - need additional information\n    if (role === \"DOCTOR\") {\n      const specialty = formData.get(\"specialty\");\n      const experience = parseInt(formData.get(\"experience\"), 10);\n      const credentialUrl = formData.get(\"credentialUrl\");\n      const description = formData.get(\"description\");\n\n      // Validate inputs\n      if (!specialty || !experience || !credentialUrl || !description) {\n        throw new Error(\"All fields are required\");\n      }\n\n      await db.user.update({\n        where: {\n          clerkUserId: userId,\n        },\n        data: {\n          role: \"DOCTOR\",\n          specialty,\n          experience,\n          credentialUrl,\n          description,\n          verificationStatus: \"PENDING\",\n        },\n      });\n\n      revalidatePath(\"/\");\n      return { success: true, redirect: \"/doctor/verification\" };\n    }\n  } catch (error) {\n    console.error(\"Failed to set user role:\", error);\n    throw new Error(`Failed to update user profile: ${error.message}`);\n  }\n}\n\n/**\n * Gets the current user's complete profile information\n */\nexport async function getCurrentUser() {\n  const { userId } = await auth();\n\n  if (!userId) {\n    return null;\n  }\n\n  try {\n    const user = await db.user.findUnique({\n      where: {\n        clerkUserId: userId,\n      },\n    });\n\n    return user;\n  } catch (error) {\n    console.error(\"Failed to get user information:\", error);\n    return null;\n  }\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;;;;;;;AAKO,eAAe,YAAY,QAAQ;IACxC,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAE5B,IAAI,CAAC,QAAQ;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,4BAA4B;IAC5B,MAAM,OAAO,MAAM,6GAAA,CAAA,KAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YAAE,aAAa;QAAO;IAC/B;IAEA,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,MAAM,OAAO,SAAS,GAAG,CAAC;IAE1B,IAAI,CAAC,QAAQ,CAAC;QAAC;QAAW;KAAS,CAAC,QAAQ,CAAC,OAAO;QAClD,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI;QACF,mCAAmC;QACnC,IAAI,SAAS,WAAW;YACtB,MAAM,6GAAA,CAAA,KAAE,CAAC,IAAI,CAAC,MAAM,CAAC;gBACnB,OAAO;oBACL,aAAa;gBACf;gBACA,MAAM;oBACJ,MAAM;gBACR;YACF;YAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;YACf,OAAO;gBAAE,SAAS;gBAAM,UAAU;YAAW;QAC/C;QAEA,gDAAgD;QAChD,IAAI,SAAS,UAAU;YACrB,MAAM,YAAY,SAAS,GAAG,CAAC;YAC/B,MAAM,aAAa,SAAS,SAAS,GAAG,CAAC,eAAe;YACxD,MAAM,gBAAgB,SAAS,GAAG,CAAC;YACnC,MAAM,cAAc,SAAS,GAAG,CAAC;YAEjC,kBAAkB;YAClB,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,iBAAiB,CAAC,aAAa;gBAC/D,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,6GAAA,CAAA,KAAE,CAAC,IAAI,CAAC,MAAM,CAAC;gBACnB,OAAO;oBACL,aAAa;gBACf;gBACA,MAAM;oBACJ,MAAM;oBACN;oBACA;oBACA;oBACA;oBACA,oBAAoB;gBACtB;YACF;YAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;YACf,OAAO;gBAAE,SAAS;gBAAM,UAAU;YAAuB;QAC3D;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM,IAAI,MAAM,CAAC,+BAA+B,EAAE,MAAM,OAAO,EAAE;IACnE;AACF;AAKO,eAAe;IACpB,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAE5B,IAAI,CAAC,QAAQ;QACX,OAAO;IACT;IAEA,IAAI;QACF,MAAM,OAAO,MAAM,6GAAA,CAAA,KAAE,CAAC,IAAI,CAAC,UAAU,CAAC;YACpC,OAAO;gBACL,aAAa;YACf;QACF;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO;IACT;AACF;;;IA7FsB;IA0EA;;AA1EA,+OAAA;AA0EA,+OAAA","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///Users/hasanalmahadi/WebProject/medimeet/actions/patient.js"],"sourcesContent":["import { db } from \"@/lib/prisma\";\nimport { auth } from \"@clerk/nextjs/server\";\n\n/**\n * Get all appointments for the authenticated patient\n */\nexport async function getPatientAppointments() {\n  const { userId } = await auth();\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  try {\n    const user = await db.user.findUnique({\n      where: {\n        clerkUserId: userId,\n        role: \"PATIENT\",\n      },\n      select: {\n        id: true,\n      },\n    });\n\n    if (!user) {\n      throw new Error(\"Patient not found\");\n    }\n\n    const appointments = await db.appointment.findMany({\n      where: {\n        patientId: user.id,\n      },\n      include: {\n        doctor: {\n          select: {\n            id: true,\n            name: true,\n            specialty: true,\n            imageUrl: true,\n          },\n        },\n      },\n      orderBy: {\n        startTime: \"asc\",\n      },\n    });\n\n    return { appointments };\n  } catch (error) {\n    console.error(\"Failed to get patient appointments:\", error);\n    return { error: \"Failed to fetch appointments\" };\n  }\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAKO,eAAe;IACpB,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAE5B,IAAI,CAAC,QAAQ;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI;QACF,MAAM,OAAO,MAAM,6GAAA,CAAA,KAAE,CAAC,IAAI,CAAC,UAAU,CAAC;YACpC,OAAO;gBACL,aAAa;gBACb,MAAM;YACR;YACA,QAAQ;gBACN,IAAI;YACN;QACF;QAEA,IAAI,CAAC,MAAM;YACT,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,eAAe,MAAM,6GAAA,CAAA,KAAE,CAAC,WAAW,CAAC,QAAQ,CAAC;YACjD,OAAO;gBACL,WAAW,KAAK,EAAE;YACpB;YACA,SAAS;gBACP,QAAQ;oBACN,QAAQ;wBACN,IAAI;wBACJ,MAAM;wBACN,WAAW;wBACX,UAAU;oBACZ;gBACF;YACF;YACA,SAAS;gBACP,WAAW;YACb;QACF;QAEA,OAAO;YAAE;QAAa;IACxB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,OAAO;YAAE,OAAO;QAA+B;IACjD;AACF","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///Users/hasanalmahadi/WebProject/medimeet/components/page-header.jsx"],"sourcesContent":["import Link from \"next/link\";\nimport { ArrowLeft } from \"lucide-react\";\nimport React from \"react\";\nimport { Button } from \"./ui/button\";\n\n/**\n * Reusable page header component with back button and title\n *\n * @param {React.ReactNode} props.icon - Icon component to display next to the title\n * @param {string} props.title - Page title\n * @param {string} props.backLink - URL to navigate back to (defaults to home)\n * @param {string} props.backLabel - Text for the back link (defaults to \"Back to Home\")\n */\nexport function PageHeader({\n  icon,\n  title,\n  backLink = \"/\",\n  backLabel = \"Back to Home\",\n}) {\n  return (\n    <div className=\"flex flex-col justify-between gap-5 mb-8\">\n      <Link href={backLink}>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"mb-2 border-emerald-900/30\"\n        >\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\n          {backLabel}\n        </Button>\n      </Link>\n      <div className=\"flex items-end gap-2\">\n        {icon && (\n          <div className=\"text-emerald-400\">\n            {React.cloneElement(icon, {\n              className: \"h-12 md:h-14 w-12 md:w-14\",\n            })}\n          </div>\n        )}\n        <h1 className=\"text-4xl md:text-5xl gradient-title\">{title}</h1>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAUO,SAAS,WAAW,EACzB,IAAI,EACJ,KAAK,EACL,WAAW,GAAG,EACd,YAAY,cAAc,EAC3B;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4JAAA,CAAA,UAAI;gBAAC,MAAM;0BACV,cAAA,8OAAC,2HAAA,CAAA,SAAM;oBACL,SAAQ;oBACR,MAAK;oBACL,WAAU;;sCAEV,8OAAC,gNAAA,CAAA,YAAS;4BAAC,WAAU;;;;;;wBACpB;;;;;;;;;;;;0BAGL,8OAAC;gBAAI,WAAU;;oBACZ,sBACC,8OAAC;wBAAI,WAAU;kCACZ,cAAA,qMAAA,CAAA,UAAK,CAAC,YAAY,CAAC,MAAM;4BACxB,WAAW;wBACb;;;;;;kCAGJ,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;;;;;;;;;;;;;AAI7D","debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/hasanalmahadi/WebProject/medimeet/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction CardHeader({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction CardTitle({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props} />\n  );\n}\n\nfunction CardDescription({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props} />\n  );\n}\n\nfunction CardAction({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction CardContent({\n  className,\n  ...props\n}) {\n  return (<div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />);\n}\n\nfunction CardFooter({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props} />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAEA;;;;AAEA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBAAQ,8OAAC;QAAI,aAAU;QAAe,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QAAa,GAAG,KAAK;;;;;;AACnF;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///Users/hasanalmahadi/WebProject/medimeet/app/%28main%29/appointments/page.jsx"],"sourcesContent":["import { getPatientAppointments } from \"@/actions/patient\";\nimport { AppointmentCard } from \"@/components/appointment-card\";\nimport { PageHeader } from \"@/components/page-header\";\nimport { Calendar } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { redirect } from \"next/navigation\";\nimport { getCurrentUser } from \"@/actions/onboarding\";\n\nexport default async function PatientAppointmentsPage() {\n  const user = await getCurrentUser();\n\n  if (!user || user.role !== \"PATIENT\") {\n    redirect(\"/onboarding\");\n  }\n\n  const { appointments, error } = await getPatientAppointments();\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <PageHeader\n        icon={<Calendar />}\n        title=\"My Appointments\"\n        backLink=\"/doctors\"\n        backLabel=\"Find Doctors\"\n      />\n\n      <Card className=\"border-emerald-900/20\">\n        <CardHeader>\n          <CardTitle className=\"text-xl font-bold text-white flex items-center\">\n            <Calendar className=\"h-5 w-5 mr-2 text-emerald-400\" />\n            Your Scheduled Appointments\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          {error ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-red-400\">Error: {error}</p>\n            </div>\n          ) : appointments?.length > 0 ? (\n            <div className=\"space-y-4\">\n              {appointments.map((appointment) => (\n                <AppointmentCard\n                  key={appointment.id}\n                  appointment={appointment}\n                  userRole=\"PATIENT\"\n                />\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <Calendar className=\"h-12 w-12 mx-auto text-muted-foreground mb-3\" />\n              <h3 className=\"text-xl font-medium text-white mb-2\">\n                No appointments scheduled\n              </h3>\n              <p className=\"text-muted-foreground\">\n                You don&apos;t have any appointments scheduled yet. Browse our\n                doctors and book your first consultation.\n              </p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;AAEe,eAAe;IAC5B,MAAM,OAAO,MAAM,CAAA,GAAA,qHAAA,CAAA,iBAAc,AAAD;IAEhC,IAAI,CAAC,QAAQ,KAAK,IAAI,KAAK,WAAW;QACpC,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,MAAM,CAAA,GAAA,kHAAA,CAAA,yBAAsB,AAAD;IAE3D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,6HAAA,CAAA,aAAU;gBACT,oBAAM,8OAAC,0MAAA,CAAA,WAAQ;;;;;gBACf,OAAM;gBACN,UAAS;gBACT,WAAU;;;;;;0BAGZ,8OAAC,yHAAA,CAAA,OAAI;gBAAC,WAAU;;kCACd,8OAAC,yHAAA,CAAA,aAAU;kCACT,cAAA,8OAAC,yHAAA,CAAA,YAAS;4BAAC,WAAU;;8CACnB,8OAAC,0MAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;gCAAkC;;;;;;;;;;;;kCAI1D,8OAAC,yHAAA,CAAA,cAAW;kCACT,sBACC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;oCAAe;oCAAQ;;;;;;;;;;;mCAEpC,cAAc,SAAS,kBACzB,8OAAC;4BAAI,WAAU;sCACZ,aAAa,GAAG,CAAC,CAAC,4BACjB,8OAAC;oCAEC,aAAa;oCACb,UAAS;mCAFJ,YAAY,EAAE;;;;;;;;;iDAOzB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,0MAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;8CAGpD,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUnD","debugId":null}}]
}